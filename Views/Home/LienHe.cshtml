<div>
    <h2 class="border border-black p-4 text-center">LIÊN HỆ</h2>
    <!-- thông tin -->
    <div class="flex flex-col md:flex-row">
        <div class="w-full p-4 md:w-1/2">
            <div>
                <p class="text-gray-700">
                    Công Ty TNHH 4 thành viên DREAMBRIDGE <br />
                    <br />

                    Địa chỉ: 806 QL22, ấp Mỹ Hoà 3, Hóc Môn, Hồ Chí Minh, Việt Nam<br />
                    <br />

                    Hotline: 083 8686 8686<br />
                    <br />

                    Email: dreambridgeteam@dreambridge.edu.vn<br />
                    <br />

                    Website: <a href="https://dreambridge.edu.vn/"
                        class="text-blue-500 underline">https://dreambridge.edu.vn/</a><br />
                    <br />

                    Giờ làm việc:<br />
                    <br />

                    Thứ 2 – Thứ 6: 8h00 – 17h00<br />
                    <br />

                    Để tiết kiệm thời gian của quý khách, vui lòng đặt lịch hẹn qua số hotline 083 8686 8686 để chúng
                    tôi sắp xếp lịch tư vấn phù hợp nhất.
                </p>
                <br />
                <br />
                <h3 class="text-lg font-bold">Đăng ký tư vấn miễn phí</h3>
                <div class=" w-full max-w-md space-y-4">
                    <!-- Full Name Input -->
                    <div>
                        <label class="mb-1 block text-gray-700">Họ và tên <span class="text-red-500">*</span></label>
                        <div class="flex rounded-md border border-blue-300 p-2">
                            <input type="text" placeholder="Nhập họ và tên"
                                class="w-full text-gray-500 focus:outline-none" />
                        </div>
                    </div>
                    <!-- Email Input -->
                    <div>
                        <label class="mb-1 block text-gray-700">Email <span class="text-red-500">*</span></label>
                        <div class="flex rounded-md border-2 border-blue-300 p-2">
                            <input type="email" placeholder="Nhập email"
                                class="w-full text-gray-500 focus:outline-none" />
                        </div>
                    </div>
                    <!-- Phone Input -->
                    <div>
                        <label class="mb-1 block text-gray-700">Số điện thoại <span
                                class="text-red-500">*</span></label>
                        <div class="flex rounded-md border border-blue-300 p-2">
                            <input type="tel" placeholder="Nhập số điện thoại"
                                class="w-full text-gray-500 focus:outline-none" />
                        </div>
                    </div>
                </div> <br>
                <div class="flex m-auto">
                    <!-- Radio Group -->
                    <div class="mr-4">
                        <label class=" m-auto inline-flex items-center text-gray-700">
                            <input type="radio" name="service" class="form-radio h-5 w-5 text-blue-600" />
                            <span class="ml-2">Tư vấn du học <span class="text-red-500">*</span></span>
                        </label>
                    </div>
                    <div class="mr-4">
                        <label class="  m-auto inline-flex items-center text-gray-700">
                            <input type="radio" name="service" class="form-radio h-5 w-5 text-blue-600" />
                            <span class="ml-2">Dịch vụ VISA <span class="text-red-500">*</span></span>
                        </label>
                    </div>
                </div> <br>
                <div class=" w-full max-w-md space-y-4">
                    <!-- Dropdown -->
                    <div>
                        <select
                            class="block w-full rounded-md border border-gray-300 p-2 text-gray-700 focus:outline-none">
                            <option>Du học Mỹ</option>
                            <option>Du học Úc</option>
                            <option>Du học Canada</option>
                            <option>Du học Anh</option>
                        </select>
                    </div>
                    <!-- Textarea -->
                    <div>
                        <textarea
                            class="block w-full rounded-md border-2 border-blue-500 p-2 text-gray-500 focus:outline-none"
                            rows="6" placeholder="Nội dung cần tư vấn"></textarea>
                    </div>
                    <!-- Button -->
                    <div>
                        <!-- Thêm id cho nút đăng ký -->
                        <button id="registerButton"
                            class="w-full rounded-md bg-blue-700 py-3 text-white hover:bg-blue-800">ĐĂNG KÝ TƯ
                            VẤN</button>
                    </div>

                </div>
            </div>
        </div>

        <!-- bản đồ -->
        <div class="w-full max-w-md p-4">
            <h1 class="mb-4 text-2xl font-bold text-black">BẢN ĐỒ</h1>
            <!-- Map  -->
            <div class="overflow-hidden rounded-md border-2 border-blue-500">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10534.215605234533!2d106.60815810361447!3d10.866225199623834!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752b088de30f3b%3A0xd2140740d360f705!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBOZ2_huqFpIG5n4buvIC0gVGluIGjhu41jIFRow6BuaCBwaOG7kSBI4buTIENow60gTWluaCAoSFVGTElUKSBDxqEgc-G7nyBIw7NjIE3DtG4!5e1!3m2!1svi!2s!4v1726596570059!5m2!1svi!2s"
                    width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById('registerButton').addEventListener('click', function (event) {
        event.preventDefault();

        const name = document.querySelector('input[placeholder="Nhập họ và tên"]').value;
        const email = document.querySelector('input[placeholder="Nhập email"]').value;
        const phone = document.querySelector('input[placeholder="Nhập số điện thoại"]').value;
        const service = document.querySelector('input[name="service"]:checked').nextSibling.textContent.trim();
        const message = document.querySelector('textarea[placeholder="Nội dung cần tư vấn"]').value;

        const emailRequest = {
            ToEmail: email,
            Subject: `Đăng ký tư vấn từ ${name}`,
            Body: `Tên: ${name}\nSố điện thoại: ${phone}\nDịch vụ: ${service}\nNội dung: ${message}`
        };

        fetch('/api/email/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(emailRequest),
        })
            .then(response => response.json())
            .then(data => {
                alert(data.message || 'Đã gữi email này!');
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Đã gửi email thành công!');
            });
    });
</script>
